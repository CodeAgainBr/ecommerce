<nav id="sidebar">
  <div class="sidebar-header text-center">
    <button id="sidebar" class="btn btn-block text-white">
      <%= link_to root_path, class: "h5 text-white d-inline" do %>
        <span>Ecommerce</span>
      <% end %>
    </button>
  </div>

  <ul class="list-unstyled components">
    <% @categorias = Categoria.all %>
    <% @categorias.each do |categoria| %>
      <li>
        <a href="#">
          <h4 class="mb-0"><%= categoria.nome %></h4>
        </a>
      </li>

      <% @sub_categorias = SubCategoria.where(categoria_id: categoria) %>
      <% @sub_categorias.each do |sub_categoria| %>
        <li>
          <a href="#" class="pl-4"><%= sub_categoria.nome %></a>
        </li>
      <% end %>
    <% end %>
  </ul>
</nav>

<div id="content">
  <nav class="navbar navbar-expand-lg sticky-top px-0 py-0">
    <% if current_user %>
      <ul class="navbar-nav ml-auto list-unstyled components">
        <% if current_user.admin %>
          <li class="nav-item">
            <%= link_to rails_admin_path, class: "nav-link" do %>
              <i class="fas fa-key"></i>
            <% end %>
            </a>
          </li>
        <% end %>

        <% if current_user.admin %>
          <li class="nav-item">
            <%= link_to console_path, class: "nav-link" do %>
              <i class="fas fa-terminal"></i>
            <% end %>
          </li>
        <% end %>

        <li class="nav-item">
          <%= link_to edit_user_registration_path, class: "nav-link" do %>
            <i class="fas fa-cog"></i>
          <% end %>
        </li>
        
        <li class="nav-item">
          <%= link_to destroy_user_session_path, class: "nav-link", method: :delete do %>
            <i class="fas fa-sign-out-alt"></i>
          <% end %>
        </li>
      </ul>
    <% end %>
  </nav>
